



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for repositories that I have made">
      
      
        <link rel="canonical" href="https://docs.jwk.nz/php/mvc-framework/04-mvc/">
      
      
        <meta name="author" content="Jeffrey Kranenburg">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>APP : Models - Views - Controllers - docs.jwk.nz</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#app_models_-_views_-_controllers" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.jwk.nz/" title="docs.jwk.nz" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              docs.jwk.nz
            </span>
            <span class="md-header-nav__topic">
              
                APP : Models - Views - Controllers
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jwknz/docs.jwk.nz/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jwknz/docs.jwk.nz
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.jwk.nz/" title="docs.jwk.nz" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    docs.jwk.nz
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jwknz/docs.jwk.nz/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jwknz/docs.jwk.nz
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="JWKNZ Docs" class="md-nav__link">
      JWKNZ Docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/installing-docker-toolbox/" title="Installing docker toolbox" class="md-nav__link">
      Installing docker toolbox
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/setup-virtualbox/" title="Setup virtualbox" class="md-nav__link">
      Setup virtualbox
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Dotnet core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Dotnet core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/" title="Dotnet Core" class="md-nav__link">
      Dotnet Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      SQLSVR WEBAPI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        SQLSVR WEBAPI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-2" type="checkbox" id="nav-3-2-2">
    
    <label class="md-nav__link" for="nav-3-2-2">
      00 archive
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-2">
        00 archive
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-2-1" type="checkbox" id="nav-3-2-2-1">
    
    <label class="md-nav__link" for="nav-3-2-2-1">
      Dotnet 2.1.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-3-2-2-1">
        Dotnet 2.1.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/01-project-setup/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/02-create-api/" title="Creating an API" class="md-nav__link">
      Creating an API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/03-exercise-01/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/04-testing-the-api/" title="Testing the api using VSCODE" class="md-nav__link">
      Testing the api using VSCODE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/05-adding-a-web-form/" title="Consuming the API" class="md-nav__link">
      Consuming the API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-3" type="checkbox" id="nav-3-2-3">
    
    <label class="md-nav__link" for="nav-3-2-3">
      01 dotnet 2.2.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-3">
        01 dotnet 2.2.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/01-dotnet-2.2.x/01-project-setup/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2-4" type="checkbox" id="nav-3-2-4">
    
    <label class="md-nav__link" for="nav-3-2-4">
      02 after setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-4">
        02 after setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/02-after-setup/02-create-api/" title="Creating an API" class="md-nav__link">
      Creating an API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/02-after-setup/03-exercise-01/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/02-after-setup/04-testing-the-api/" title="Testing the api using VSCODE" class="md-nav__link">
      Testing the api using VSCODE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/02-after-setup/05-adding-a-web-form/" title="Consuming the API" class="md-nav__link">
      Consuming the API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Git
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Git
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/00_Installing_git/" title="Installing git" class="md-nav__link">
      Installing git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/01_what_is_git/" title="What is git" class="md-nav__link">
      What is git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/02_basic_commands/" title="Basic Commands" class="md-nav__link">
      Basic Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/03_how_does_git_work/" title="How does it all work?" class="md-nav__link">
      How does it all work?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/04_basic_workflow/" title="Basic Workflow" class="md-nav__link">
      Basic Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/05_basic_workflow_images/" title="Git stages" class="md-nav__link">
      Git stages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/06_branches/" title="Using Branches" class="md-nav__link">
      Using Branches
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/07_gitignore/" title="Gitignore" class="md-nav__link">
      Gitignore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/08_exercises/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/09_faqs/" title="GIT FAQ" class="md-nav__link">
      GIT FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Mern
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Mern
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mern/" title="Creating a Web Api using MERN" class="md-nav__link">
      Creating a Web Api using MERN
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Package managers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Package managers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../package_managers/npm/" title="NPM - Node Package Manager" class="md-nav__link">
      NPM - Node Package Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Php
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Php
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../01-container-setup/" title="Setup new container" class="md-nav__link">
      Setup new container
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2" checked>
    
    <label class="md-nav__link" for="nav-7-2">
      Mvc framework
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Mvc framework
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../01-index/" title="Basic MVC Framework" class="md-nav__link">
      Basic MVC Framework
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-setup/" title="Setup MVC Project" class="md-nav__link">
      Setup MVC Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-how-it-works/" title="How to setup MVC" class="md-nav__link">
      How to setup MVC
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        APP : Models - Views - Controllers
      </label>
    
    <a href="./" title="APP : Models - Views - Controllers" class="md-nav__link md-nav__link--active">
      APP : Models - Views - Controllers
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the_url_format" title="THE URL Format" class="md-nav__link">
    THE URL Format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_controller" title="The Controller" class="md-nav__link">
    The Controller
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_model" title="The Model" class="md-nav__link">
    The Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_view" title="The View" class="md-nav__link">
    The View
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../05-exercise-1/" title="Creating your first MVC Project" class="md-nav__link">
      Creating your first MVC Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../06-exercise-2/" title="Loading your database" class="md-nav__link">
      Loading your database
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/01-introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/02-setting-up-project/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/03-push-and-deploy/" title="Pushing our code to GitHub" class="md-nav__link">
      Pushing our code to GitHub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/04-parcel/" title="Using parceljs" class="md-nav__link">
      Using parceljs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/05-exercises/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the_url_format" title="THE URL Format" class="md-nav__link">
    THE URL Format
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_controller" title="The Controller" class="md-nav__link">
    The Controller
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_model" title="The Model" class="md-nav__link">
    The Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the_view" title="The View" class="md-nav__link">
    The View
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jwknz/docs.jwk.nz/edit/master/docs/php/mvc-framework/04-mvc.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="app_models_-_views_-_controllers">APP : Models - Views - Controllers<a class="headerlink" href="#app_models_-_views_-_controllers" title="Permanent link">&para;</a></h1>
<p>To know what we are working with, let's define what each of these files do.</p>
<p><img alt="MVC process" src="../../../assets/images/mvc-process.png" /></p>
<p>As you can see in the image above, the user uses the a website, by navigating to it. Once they are on that website, the different pieces come together.</p>
<p>The Controller is in a way the glue to the process and so a couple of things need to be remembered.</p>
<ul>
<li>The controller communicates to the model</li>
<li>The controller communicates to the view</li>
<li>The model <strong>NEVER</strong> communicates to the view.</li>
<li>Whatever data the model has, is send to the controller</li>
<li>Whatever view there is to display the data is selected by the controller.</li>
</ul>
<p>So by those rules that are shown above, the starting point for any page would be the controller.</p>
<h2 id="the_url_format">THE URL Format<a class="headerlink" href="#the_url_format" title="Permanent link">&para;</a></h2>
<p>When you look at a url for a website you will see the following format:</p>
<p><img alt="MVC process" src="../../../assets/images/URL-Setup.png" /></p>
<ul>
<li>The default controller for this framework is called <strong>Pages</strong></li>
<li>The default for index for this framework is called <strong>Index</strong></li>
<li>There is no default value for the parameter, since it only applies when you need a specific record for something.</li>
</ul>
<p>Now there are 2 ways you can set this up:</p>
<p>You either create a tonne of controllers and give them each a single action or - and this is the way we will do it - you create a single controller for each function and give them each the appropriate methods in relation to the CRUD acronym.</p>
<p>So each <strong>Controller</strong> will get at least a single actions with a maximum or 5 actions.</p>
<h2 id="the_controller">The Controller<a class="headerlink" href="#the_controller" title="Permanent link">&para;</a></h2>
<p>The format of a controller looks something like this to begin with:</p>
<div class="admonition note">
<p class="admonition-title">A basic controller</p>
<div class="codehilite"><pre><span></span>&lt;?php
    include(APPROOT . &#39;/helper/helperfunctions.php&#39;);

    class Pages extends Controller {

        public function __construct() {
            $this-&gt;people = $this-&gt;model(&#39;People&#39;);
        }

        public function index() {
            // Links to model
            $people = $this-&gt;people-&gt;getAllPeople();
            $title = $this-&gt;people-&gt;title();
            $data = [];

            // Send data to View
            $this-&gt;view(&#39;pages/index&#39;, $data = []);
        }
    }
?&gt;
</pre></div>

</div>
<p>These are not auto-generated, but you can just copy this code and modify it to what you need.</p>
<p>Let's break it up into parts:</p>
<details class="note"><summary>Import the helper functions</summary><p>Import the helper functions so you can manipulate the URL</p>
<div class="codehilite"><pre><span></span>include(APPROOT . &#39;/helper/helperfunctions.php&#39;);
</pre></div>

</details>
<details class="note"><summary>Create the contoller class</summary><p>Create the class - this name has to be unique within your project and the file in which it is created must have the same name.</p>
<p>The <code>extends</code> keyword means we are inheriting from the Controller class</p>
<p>All the other content goes inside of it.</p>
<div class="codehilite"><pre><span></span>class Pages extends Controller {
  ...
}
</pre></div>

</details>
<details class="note"><summary>The constructor - setting the model</summary><p>In the class constructor we set the name of the model(s) we need to interact with. If you don't need a model, because your data is <strong>static</strong> - then you can omit this.</p>
<p>You can also specify multiple models inside of the one controller, but we will look at that later on.</p>
<p>The name of the model <strong>MUST BE</strong> the same name as the model file name as it looks for the file name.</p>
</details>
<details class="note"><summary>The Action</summary><p>The actions are part of the URL and since index is the default action, it will be needed for setting up controller only URLs.</p>
<p>In the first part we setup all the data we need to get from our model(s), this are basically functions that request data from the database and save the result (an array) into a variable.</p>
<p>These variables can hold anything - it doesn't have to be a function.</p>
<p>The first part of the <code>view()</code> method is the link to the folder inside of the <strong>views</strong> folder and then the filename. The file name is the name of actual file in the views folder and has nothing to do with the name of the endpoint.</p>
<p>The files may also be called template1, template2 etc.</p>
<div class="codehilite"><pre><span></span>public function index() {
    // Links to model
    $people = $this-&gt;people-&gt;getAllPeople();
    $title = $this-&gt;people-&gt;title();
    $data = [];

    // Send data to View
    $this-&gt;view(&#39;pages/index&#39;, $data = []);
}
</pre></div>

<p>The $data array (which must be included) is used to pass in all the variables you create to the view, so you may end up with something like </p>
<p><div class="codehilite"><pre><span></span>$this-&gt;view(&#39;pages/index&#39;, $data = [$people, $title]);
</pre></div>
or just an empty array, which is passed down by default.</p>
</details>
<h2 id="the_model">The Model<a class="headerlink" href="#the_model" title="Permanent link">&para;</a></h2>
<p>In the models folder, we have all our models. A model is the part that queries, sends and receives the data from the database.</p>
<p>A model is usually closely associated with a controller, as far as the name goes, but:</p>
<ul>
<li>
<p>It cannot be the same name - using an underscore in the name is enough.</p>
</li>
<li>
<p>It should be descriptive of what you type of data you want, so it is easier to get to later.</p>
</li>
</ul>
<p>The format of a model looks something like this to begin with:</p>
<div class="admonition note">
<p class="admonition-title">A basic model</p>
<p>class People {</p>
<div class="codehilite"><pre><span></span>private $db;

public function __construct() {
    $this-&gt;db = new Database;
}

public function title() {
    return &quot;Show All People&quot;;
}

public function getAllPeople() {
    $this-&gt;db-&gt;query(&#39;SELECT * FROM tbl_people&#39;);
    return $this-&gt;db-&gt;resultSet();
}
</pre></div>


<p>}</p>
</div>
<p>Again these are not auto-generated, but you can just copy this code and modify it to what you need.</p>
<p>Let's break it up into parts:</p>
<details class="note"><summary>The model class</summary><p>The class contains all of the methods - it doesn't inherit from anyting.</p>
<div class="codehilite"><pre><span></span>class People {
  ...
}
</pre></div>

</details>
<details class="note"><summary>Link to Database</summary><p>The model is the part that communicates to the database, so it needs to setup a new instance of the object.</p>
</details>
<details class="note"><summary>The queries</summary><p>Below you will see 2 queries, one returns a string and the second one does a query to a database.</p>
<div class="codehilite"><pre><span></span>public function title() {
    return &quot;Show All People&quot;;
}

public function getAllPeople() {
    $this-&gt;db-&gt;query(&#39;SELECT * FROM tbl_people&#39;);
    return $this-&gt;db-&gt;resultSet();
}
</pre></div>

</details>
<details class="note"><summary>Query with a parameter</summary><p>Queries can be as complex as you require them to be, but and any parameters are binded into the query. They are not directly hard coded into it.</p>
<p>For each paramter for a query query, you need to pass in the parameter as a php variable, since you do not know what the value will be at development time.</p>
<p>Since we don't know the value, we need to sanitize these variables and we that with the <code>bind()</code> function.</p>
<p>As you can see the parameter in the query is identified with a <code>:</code> and in the binding function it is mapped to the variable name.</p>
<p>When doing a Select query, we then return the result as per normal, which gives an array - even if the array only has a single item in it.</p>
<div class="codehilite"><pre><span></span>public function getSinglePerson($id) {
    $this-&gt;db-&gt;query(&#39;SELECT * FROM tbl_people WHERE ID = :id&#39;);
    $this-&gt;db-&gt;bind(&quot;:id&quot;, $id);
    return $this-&gt;db-&gt;resultSet();
}
</pre></div>

</details>
<details class="note"><summary>INSERT / UPDATE / DELETE with a parameter</summary><p>For the C UD and type queries, we need to pass in paramters as and they work exactly the same</p>
<div class="codehilite"><pre><span></span>public function addPerson($fn, $ln, $dob) {
  $this-&gt;db-&gt;query(&#39;INSERT INTO  tbl_people (FNAME, LNAME, DOB) VALUES (:fn, :ln, :dob)&#39;);


  $this-&gt;db-&gt;bind(&#39;:fn&#39;, $fn);
  $this-&gt;db-&gt;bind(&#39;:ln&#39;, $ln);
  $this-&gt;db-&gt;bind(&#39;:dob&#39;, $dob);

  if($this-&gt;db-&gt;execute()) {
      return true;
  } else {
      return false;
  }
}
</pre></div>

<p>As you can see we pass in 3 parameters and sanitize each of them. </p>
<p>At the end, we check if the database was successfully changed by returning a simple true / false boolean.</p>
</details>
<h2 id="the_view">The View<a class="headerlink" href="#the_view" title="Permanent link">&para;</a></h2>
<p>In the views folder we have all the templates. Now each of the view templates can be used multiple times and have a different way of processing the data coming in.</p>
<div class="admonition hint">
<p class="admonition-title">TIP =&gt; Example</p>
<p>You may have a single template that has 2 columns, but how the data comes into those columns is different, therefore you need multiple versions of that one template.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">HINT =&gt; Use the controllers as folders</p>
<p>To make it easier to find the templates to use for each controller, create a folder that has the name of the controller and put the template files that are needed for each controller in there.</p>
</div>
<p>You will need to the path to the view file in the controller:</p>
<div class="admonition note">
<div class="codehilite"><pre><span></span>$this-&gt;view(&#39;folder_name/view_template&#39;, $data = []);
</pre></div>

</div>
<p>The view file, although it ends with a <strong>.php</strong> extension, most of it is HTML.</p>
<p>The format of a model looks something like this to begin with:</p>
<div class="admonition note">
<p class="admonition-title">Format of View</p>
<div class="codehilite"><pre><span></span>&lt;?php include(APPROOT . &quot;/views/includes/header.php&quot;); ?&gt;

&lt;div class=&quot;row&quot;&gt;

&lt;/div&gt;

&lt;?php include(APPROOT . &quot;/views/includes/footer.php&quot;); ?&gt;
</pre></div>

</div>
<p>The <code>class="row"</code> is a reference to using bootstrap, but it could be anything.</p>
<p>You will notice there are 2 files, a <strong>header.php</strong> and a <strong>footer.php</strong> file.</p>
<p>I tend to put them in the a folder called <strong>includes</strong> which you can see from the path that is used.</p>
<p>In the <strong>header.php</strong> file we include everything from the top <code>&lt;html&gt;</code> tag to the where the commonality of each page ends. </p>
<p>So a header for a page could look like this:</p>
<script src="https://gist.github.com/to-jk11/b6c2c64e72dac34e4332bcf24b9afda4.js"></script>

<p>The <strong>footer.php</strong> file includes everything from where the first tag of a view ends and the common footer for each page starts.</p>
<p>So a footer for a page could look like this</p>
<script src="https://gist.github.com/to-jk11/c297e7ebf9468c9c637f8ba232b87565.js"></script>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../03-how-it-works/" title="How to setup MVC" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                How to setup MVC
              </span>
            </div>
          </a>
        
        
          <a href="../05-exercise-1/" title="Creating your first MVC Project" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Creating your first MVC Project
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 and maintained by <a href="https://twitter.com/jwknz">Jeff Kranenburg</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/jwknz" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://github.com/to-jk11" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.linkedin.com/in/jwknz" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://twitter.com/jwknz" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>