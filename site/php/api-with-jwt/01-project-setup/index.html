



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for repositories that I have made">
      
      
        <link rel="canonical" href="https://docs.jwk.nz/php/api-with-jwt/01-project-setup/">
      
      
        <meta name="author" content="Jeffrey Kranenburg">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Project Setup - docs.jwk.nz</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#project_setup" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.jwk.nz/" title="docs.jwk.nz" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              docs.jwk.nz
            </span>
            <span class="md-header-nav__topic">
              
                Project Setup
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jwknz/docs.jwk.nz/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jwknz/docs.jwk.nz
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.jwk.nz/" title="docs.jwk.nz" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    docs.jwk.nz
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jwknz/docs.jwk.nz/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jwknz/docs.jwk.nz
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="JWKNZ Docs" class="md-nav__link">
      JWKNZ Docs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/01-installing-docker-toolbox/" title="Installing Docker Toolbox" class="md-nav__link">
      Installing Docker Toolbox
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/02-setup-virtualbox/" title="02 setup virtualbox" class="md-nav__link">
      02 setup virtualbox
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../docker/03-installing-sql-server/" title="Setting up SQL Server using Docker" class="md-nav__link">
      Setting up SQL Server using Docker
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Dotnet core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Dotnet core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      SQLSVR WEBAPI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        SQLSVR WEBAPI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-2" type="checkbox" id="nav-3-1-2">
    
    <label class="md-nav__link" for="nav-3-1-2">
      00 archive
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-2">
        00 archive
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-2-1" type="checkbox" id="nav-3-1-2-1">
    
    <label class="md-nav__link" for="nav-3-1-2-1">
      Dotnet 2.1.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-3-1-2-1">
        Dotnet 2.1.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/01-project-setup/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/02-create-api/" title="Creating an API" class="md-nav__link">
      Creating an API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/03-exercise-01/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/04-testing-the-api/" title="Testing the api using VSCODE" class="md-nav__link">
      Testing the api using VSCODE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/00-archive/dotnet-2.1.x/05-adding-a-web-form/" title="Consuming the API" class="md-nav__link">
      Consuming the API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-3" type="checkbox" id="nav-3-1-3">
    
    <label class="md-nav__link" for="nav-3-1-3">
      01 dotnet 2.2.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-3">
        01 dotnet 2.2.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/01-dotnet-2.2.x/01-project-setup/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1-4" type="checkbox" id="nav-3-1-4">
    
    <label class="md-nav__link" for="nav-3-1-4">
      02 after setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-1-4">
        02 after setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/02-after-setup/02-create-api/" title="Creating an API" class="md-nav__link">
      Creating an API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../dotnet_core/SQLSVR_WEBAPI/02-after-setup/03-exercise-01/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Git
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Git
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/00_Installing_git/" title="Installing git" class="md-nav__link">
      Installing git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/01_what_is_git/" title="What is git" class="md-nav__link">
      What is git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/02_basic_commands/" title="Basic Commands" class="md-nav__link">
      Basic Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/03_how_does_git_work/" title="How does it all work?" class="md-nav__link">
      How does it all work?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/04_basic_workflow/" title="Basic Workflow" class="md-nav__link">
      Basic Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/05_basic_workflow_images/" title="Git stages" class="md-nav__link">
      Git stages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/06_branches/" title="Using Branches" class="md-nav__link">
      Using Branches
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/07_gitignore/" title="Gitignore" class="md-nav__link">
      Gitignore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/08_exercises/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../git/09_faqs/" title="GIT FAQ" class="md-nav__link">
      GIT FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Mern
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Mern
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mern/01-index/" title="Creating a Web Api using MERN" class="md-nav__link">
      Creating a Web Api using MERN
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mern/02-quick-setup/" title="Working with the playground repo" class="md-nav__link">
      Working with the playground repo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../mern/03-react-forms/" title="Using React to create a form" class="md-nav__link">
      Using React to create a form
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Package managers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Package managers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../package_managers/npm/" title="NPM - Node Package Manager" class="md-nav__link">
      NPM - Node Package Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Php
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Php
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../01-container-setup/" title="Setup new container" class="md-nav__link">
      Setup new container
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2" checked>
    
    <label class="md-nav__link" for="nav-7-2">
      Api with jwt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Api with jwt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" title="Project Setup" class="md-nav__link md-nav__link--active">
      Project Setup
    </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Mvc framework
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Mvc framework
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../mvc-framework/01-index/" title="Basic MVC Framework" class="md-nav__link">
      Basic MVC Framework
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mvc-framework/02-setup/" title="Setup MVC Project" class="md-nav__link">
      Setup MVC Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mvc-framework/03-how-it-works/" title="How to setup MVC" class="md-nav__link">
      How to setup MVC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mvc-framework/04-mvc/" title="APP : Models - Views - Controllers" class="md-nav__link">
      APP : Models - Views - Controllers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mvc-framework/05-exercise-1/" title="Creating your first MVC Project" class="md-nav__link">
      Creating your first MVC Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../mvc-framework/06-exercise-2/" title="Loading your database" class="md-nav__link">
      Loading your database
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/01-introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/02-setting-up-project/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/03-push-and-deploy/" title="Pushing our code to GitHub" class="md-nav__link">
      Pushing our code to GitHub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/04-parcel/" title="Using parceljs" class="md-nav__link">
      Using parceljs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../web/05-exercises/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jwknz/docs.jwk.nz/edit/master/docs/php/api-with-jwt/01-project-setup.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="project_setup">Project Setup<a class="headerlink" href="#project_setup" title="Permanent link">&para;</a></h1>
<p>To be able to create an headless api, you will need to setup 2 folders - which are in fact 2 project - we will call them "frontend" and "backend"</p>
<p>The <strong>frontend</strong> folder will be completely separate from the <strong>backend</strong>, not even the languages are the same.</p>
<p>The <strong>"glue"</strong> that connects the 2 will be JSON and JWT.</p>
<ul>
<li>JSON - this is jused to transfer data between the 2 projects.</li>
<li>JWT - will provide the authentication for the login form.</li>
</ul>
<p>There is a starting project to download that is available from here:</p>
<p><a href="https://github.com/to-jk11/php-json-content">https://github.com/to-jk11/php-json-content</a></p>
<p>The project to start off is in week08/session01</p>
<p>At this stage, the project is somewhat separate, but still very much a single application.</p>
<p>So we need to setup the following structure:</p>
<p>For the backend set this up:</p>
<div class="codehilite"><pre><span></span>backend
|
|-- api/
|-- helpers/
|-- sql/
</pre></div>

<p>For the frontend set this up:</p>
<div class="codehilite"><pre><span></span>frontend
|
|-- scripts
|-- styles

All the HTML files
</pre></div>

<h1 id="updating_your_backend">UPDATING YOUR BACKEND<a class="headerlink" href="#updating_your_backend" title="Permanent link">&para;</a></h1>
<p>The next thing we need to do is use a program called <strong>composer</strong> so that we can use some packages for our PHP backend.</p>
<p>After this is installed create a file called composer.json in your backend folder and type in the following:</p>
<div class="codehilite"><pre><span></span>{
  &quot;require&quot;: {
      &quot;vlucas/phpdotenv&quot;: &quot;^2.5&quot;,
      &quot;firebase/php-jwt&quot;: &quot;^5.0&quot;
  }
}
</pre></div>

<p>In the code above we are adding 2 packages - one that allows us to environment variables and then another that allows us to generate jwt token.</p>
<p>In your terminal you can then type in <code>composer update</code> to install those packages that will be placed in a <strong>vendor</strong> folder.</p>
<p>In the API folder we are getting quite a number of files, so let's change the structure so it looks like this:</p>
<div class="codehilite"><pre><span></span>api
|
|-- data/
    |
    |-- addData.php
    |-- deleteData.php
    |-- updateData.php
    |-- getAllData.php
    |-- getSingleData.php
|-- users/
    |
    |-- getSingleUser.php
    |-- userLogin.php
|-- data_process.php
|-- users_process.php
</pre></div>

<p>You will have created some new files and in those files we are just separating the different functions, so the code is easier to find.</p>
<p>In the *_process files you will need to have the following code at the top:</p>
<div class="codehilite"><pre><span></span>&lt;?php
use \Firebase\JWT\JWT;
include_once(dirname(__DIR__).&#39;/helpers/connection.php&#39;);
</pre></div>

<p>We will refer to the helpers directory in a bit.
On the second line, we are adding the link to the JWT library</p>
<p>In the foldes called <strong>helpers</strong> folder we have the following files:</p>
<div class="codehilite"><pre><span></span>helpers
|
|-- creds.php
|-- connection.php
</pre></div>

<p>The database credentials will be moved to an <code>.env</code> file so change the content of the creds.php file to this:</p>
<div class="codehilite"><pre><span></span>&lt;?php

//USING ENV
require_once(dirname(__DIR__).&#39;/vendor/autoload.php&#39;);
$dotenv = new Dotenv\Dotenv(dirname(__DIR__),&#39;/.env&#39;);
$dotenv-&gt;load();

define (&quot;DBHOST&quot;, $_ENV[&#39;DBHOST&#39;]);
define (&quot;DBUSER&quot;, $_ENV[&#39;DBUSER&#39;]);
define (&quot;DBPASS&quot;, $_ENV[&#39;DBPASS&#39;]);
define (&quot;DBNAME&quot;, $_ENV[&#39;DBNAME&#39;]);
define (&quot;SECRET_TOKEN&quot;, $_ENV[&#39;SECRETKEY&#39;]);
define (&quot;SERVER&quot;, $_ENV[&#39;SERVER&#39;]);
</pre></div>

<p>The connection file will just have a single function in there like this:</p>
<div class="codehilite"><pre><span></span>&lt;?php

include(&#39;creds.php&#39;);

function connect() {
  try {
      $dsn = &quot;mysql:host=&quot;.DBHOST.&quot;;dbname=&quot;.DBNAME.&quot;&quot;;
      $pdo = new PDO($dsn, DBUSER, DBPASS);
      $pdo-&gt;setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
      return $pdo;
  } catch (PDOException $e) {
      print &quot;ERROR!: &quot;. $e-&gt;getMessage() . &quot;&lt;br&gt;&quot;;
      die();
  }
}
</pre></div>

<p>In the <strong>user_process.php</strong> file we need the following functions:</p>
<div class="codehilite"><pre><span></span>function checkLoginDetailsAndCreateToken($user, $pass)
function showSingleUser($id)
</pre></div>

<p>In the <strong>data_process.php</strong> file we need the following functions:</p>
<div class="codehilite"><pre><span></span>function showdata()
function showSingleData($id)
function addVehicles($make, $models)
function updateVehicles($id, $make, $models)
function removeVehicle($id)
</pre></div>

<p>Now at this stage when we looked at the starting code, everyone was able to change anything - so the functions above need to be updated to make use of the JWT tokens - which we will cover in a bit.</p>
<p>Before we can do anything else, we need to re-establish the database connection.</p>
<p>In the backed folder we need to setup an <strong>.env</strong> file that will looked like this:</p>
<div class="codehilite"><pre><span></span>DBHOST=&quot;oopphp_db_1&quot;
DBNAME=&quot;containerdb&quot;
DBUSER=&quot;user&quot;
DBPASS=&quot;user1234&quot;

SERVER=&quot;http://localhost:8000/week08/session02/backend&quot;
CLIENT=&quot;http://localhost:8000/week08/session02/frontend&quot;
SECRETKEY=&quot;today_is_wednesday&quot;
</pre></div>

<p>Some details will look familiar, but there are some new ones as well, which we will get to later.</p>
<h1 id="updating_the_frontend">UPDATING THE FRONTEND<a class="headerlink" href="#updating_the_frontend" title="Permanent link">&para;</a></h1>
<p>The front end will be similar in terms of how the files work, but just like in the backend, we will need to adjust the functions to use the JWT parts. So lets get started:</p>
<h1 id="using_jwt">USING JWT<a class="headerlink" href="#using_jwt" title="Permanent link">&para;</a></h1>
<p>JWT = JSON WEB TOKEN</p>
<p>A JWT has the following strucure </p>
<div class="codehilite"><pre><span></span>header.payload.secret
xxxxxxxx.xxxxxxxx.xxxxxx
</pre></div>

<p><a href="https://dev.to/siwalikm/what-the-heck-is-jwt-anyway--47hg">You can read more about that here</a></p>
<p>Other useful websites are:</p>
<ul>
<li><a href="https://jwt.io/#debugger">https://jwt.io/#debugger</a> to debug your token</li>
<li><a href="https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4">https://medium.com/dev-bits/a-guide-for-adding-jwt-token-based-authentication-to-your-single-page-nodejs-applications-c403f7cf04f4</a></li>
<li><a href="https://scotch.io/tutorials/the-anatomy-of-a-json-web-token">https://scotch.io/tutorials/the-anatomy-of-a-json-web-token</a></li>
</ul>
<p>The composer package we use will help us create the JWT token and this is how to use it:</p>
<p><a href="https://packagist.org/packages/firebase/php-jwt">https://packagist.org/packages/firebase/php-jwt</a></p>
<p>The big idea of the workflow is:</p>
<ol>
<li>Use the frontend to log in to the backend</li>
<li>The backend will then create the JWT token and send it back</li>
<li>The token has a date embedded in it, and we are wrapping a check to see if that date has passed everytime we do a SQL function.</li>
<li>If the date has passed, the user needs to log in again.</li>
</ol>
<p>The code for the workflow looks like this:</p>
<p>In the Javascript we send the value from the fields to the PHP and that returns to us the JWT token</p>
<div class="codehilite"><pre><span></span>let userLoginButton = document.querySelector(&#39;#userLoginButton&#39;);

if(userLoginButton !== null) {

  userLoginButton.addEventListener(&#39;click&#39;, () =&gt; userLogin())

  let userLogin = async () =&gt; {

    let user = document.querySelector(&#39;#user&#39;).value;
    let pass = document.querySelector(&#39;#pass&#39;).value;

    let url = `${SERVER}/api/users/userLogin.php`;

    let data = {_user : user, _pass : pass};

    await fetch(url, {
      method: &#39;POST&#39;, 
      body: JSON.stringify(data), 
      headers:{
        &#39;Content-Type&#39;: &#39;application/json&#39;
      }
    })
    .then(resp =&gt; resp.json())
    .then(data =&gt; {

      if(data.MSG !== &quot;USER WAS NOT FOUND&quot;) {
        location.replace(`index.html?loggedin=${data.MSG}`) //Redirect to homepage
      }

    })
  }
}
</pre></div>

<p>The PHP generates the token like this:</p>
<div class="codehilite"><pre><span></span>function checkLoginDetailsAndCreateToken($user, $pass) {

  $db = connect();
  $sql = &quot;SELECT ID, USER, PASS FROM tbl_users WHERE USER = :user AND PASS = :pass&quot;;
  $params = [&quot;:user&quot; =&gt; $user, &quot;:pass&quot; =&gt; $pass];

  $stmt = $db-&gt;prepare($sql);
  $stmt-&gt;execute($params);

  $results = $stmt-&gt;FETCHALL();

  if( count($results) &gt; 0 ) {

    $today = new DateTime(&#39;now&#39;);
    $todayPrint = $today-&gt;format(&#39;Y-m-d&#39;); // format date to show (e.g. 2019-07-21)
    $epochNow = $today-&gt;format(&#39;U&#39;); // shows epoch start time
    $today-&gt;add(new DateInterval(&#39;P10D&#39;)); // adding 10 days 
    $epochExpiry = $today-&gt;format(&#39;U&#39;); // shows epoch stop time

    $token = array(
      &quot;iss&quot; =&gt; SERVER, //issuer
      &quot;aud&quot; =&gt; &quot;http://example.com&quot;, //client - we are not using that right now, but its an example
      &quot;iat&quot; =&gt; $epochNow, //token was &quot;issues at time&quot;
      &quot;exp&quot; =&gt; $epochExpiry  //token &quot;expiry time&quot;
    );

    $jwt = JWT::encode($token, SECRET_TOKEN);

    return json_encode([&quot;MSG&quot; =&gt; $jwt]);

  } else {
    return json_encode([&quot;MSG&quot; =&gt; &quot;USER WAS NOT FOUND&quot;]);
  }
}
</pre></div>

<p>Now that you have the token we can do our checks like this:</p>
<div class="codehilite"><pre><span></span>function showdata() {

  if(isset(getallheaders()[&#39;Authorization&#39;])) {
    $jwt = getallheaders()[&#39;Authorization&#39;];

    $decoded = JWT::decode($jwt, SECRET_TOKEN, array(&#39;HS256&#39;));
    $decoded_array = (array) $decoded;

    if (new DateTime() &lt; new DateTime(date(&#39;r&#39;, $decoded_array[&#39;exp&#39;])))
    {

      return json_encode(&quot;This token has expired&quot;);

    } else {

      // Do stuff with a valid token....

    }
  }
}
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../01-container-setup/" title="Setup new container" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Setup new container
              </span>
            </div>
          </a>
        
        
          <a href="../../mvc-framework/01-index/" title="Basic MVC Framework" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Basic MVC Framework
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 and maintained by <a href="https://twitter.com/jwknz">Jeff Kranenburg</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/jwknz" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://github.com/to-jk11" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.linkedin.com/in/jwknz" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://twitter.com/jwknz" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>