



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for repositories that I have made">
      
      
        <link rel="canonical" href="https://docs.jwk.nz/dotnet_core/SQLSVR_WEBAPI/dotnet-2.1.x/05-adding-a-web-form/">
      
      
        <meta name="author" content="Jeffrey Kranenburg">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Consuming the API - docs.jwk.nz</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#consuming_the_api" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.jwk.nz/" title="docs.jwk.nz" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              docs.jwk.nz
            </span>
            <span class="md-header-nav__topic">
              
                Consuming the API
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jwknz/docs.jwk.nz/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jwknz/docs.jwk.nz
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.jwk.nz/" title="docs.jwk.nz" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    docs.jwk.nz
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jwknz/docs.jwk.nz/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jwknz/docs.jwk.nz
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="JWKNZ Docs" class="md-nav__link">
      JWKNZ Docs
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Dotnet core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Dotnet core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../" title="Dotnet Core" class="md-nav__link">
      Dotnet Core
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2">
      SQLSVR WEBAPI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        SQLSVR WEBAPI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2-2" type="checkbox" id="nav-2-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2-2">
      Dotnet 2.1.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-2-2">
        Dotnet 2.1.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../01-project-setup/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../02-create-api/" title="Creating an API" class="md-nav__link">
      Creating an API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../03-exercise-01/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../04-testing-the-api/" title="Testing the api using VSCODE" class="md-nav__link">
      Testing the api using VSCODE
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Consuming the API
      </label>
    
    <a href="./" title="Consuming the API" class="md-nav__link md-nav__link--active">
      Consuming the API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting_up_the_project" title="Setting up the project" class="md-nav__link">
    Setting up the project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing_some_settings_in_the_web_project" title="Changing some settings in the web project" class="md-nav__link">
    Changing some settings in the web project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning_up_the_project" title="Cleaning up the project" class="md-nav__link">
    Cleaning up the project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project_setup" title="Project Setup" class="md-nav__link">
    Project Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first_api_call" title="First API Call" class="md-nav__link">
    First API Call
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewdata_dictionary" title="ViewData Dictionary" class="md-nav__link">
    ViewData Dictionary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Git
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Git
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/00_Installing_git/" title="Installing git" class="md-nav__link">
      Installing git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/01_what_is_git/" title="What is git" class="md-nav__link">
      What is git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/02_basic_commands/" title="Basic Commands" class="md-nav__link">
      Basic Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/03_how_does_git_work/" title="How does it all work?" class="md-nav__link">
      How does it all work?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/04_basic_workflow/" title="Basic Workflow" class="md-nav__link">
      Basic Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/05_basic_workflow_images/" title="Git stages" class="md-nav__link">
      Git stages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/06_branches/" title="Using Branches" class="md-nav__link">
      Using Branches
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/07_gitignore/" title="Gitignore" class="md-nav__link">
      Gitignore
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/08_exercises/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../git/09_faqs/" title="GIT FAQ" class="md-nav__link">
      GIT FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Mern
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Mern
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../mern/" title="Creating a Web Api using MERN" class="md-nav__link">
      Creating a Web Api using MERN
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Package managers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Package managers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../package_managers/npm/" title="NPM - Node Package Manager" class="md-nav__link">
      NPM - Node Package Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Php
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Php
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/01-container-setup/" title="Setup new container" class="md-nav__link">
      Setup new container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Mvc framework
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Mvc framework
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/mvc-framework/01-index/" title="Basic MVC Framework" class="md-nav__link">
      Basic MVC Framework
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/mvc-framework/02-setup/" title="Setup MVC Project" class="md-nav__link">
      Setup MVC Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/mvc-framework/03-how-it-works/" title="How to setup MVC" class="md-nav__link">
      How to setup MVC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/mvc-framework/04-mvc/" title="APP : Models - Views - Controllers" class="md-nav__link">
      APP : Models - Views - Controllers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/mvc-framework/05-exercise-1/" title="Creating your first MVC Project" class="md-nav__link">
      Creating your first MVC Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../php/mvc-framework/06-exercise-2/" title="Loading your database" class="md-nav__link">
      Loading your database
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Web
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Web
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../web/01-introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../web/02-setting-up-project/" title="Project Setup" class="md-nav__link">
      Project Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../web/03-push-and-deploy/" title="Pushing our code to GitHub" class="md-nav__link">
      Pushing our code to GitHub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../web/04-parcel/" title="Using parceljs" class="md-nav__link">
      Using parceljs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../web/05-exercises/" title="Exercises" class="md-nav__link">
      Exercises
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting_up_the_project" title="Setting up the project" class="md-nav__link">
    Setting up the project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing_some_settings_in_the_web_project" title="Changing some settings in the web project" class="md-nav__link">
    Changing some settings in the web project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleaning_up_the_project" title="Cleaning up the project" class="md-nav__link">
    Cleaning up the project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project_setup" title="Project Setup" class="md-nav__link">
    Project Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first_api_call" title="First API Call" class="md-nav__link">
    First API Call
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewdata_dictionary" title="ViewData Dictionary" class="md-nav__link">
    ViewData Dictionary
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jwknz/docs.jwk.nz/edit/master/docs/dotnet_core/SQLSVR_WEBAPI/dotnet-2.1.x/05-adding-a-web-form.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="consuming_the_api">Consuming the API<a class="headerlink" href="#consuming_the_api" title="Permanent link">&para;</a></h1>
<p>Now that the api is working, we need to be able to interact with it. A normal user isn't going to use postman - they don't even want to know they are using an API.</p>
<h2 id="setting_up_the_project">Setting up the project<a class="headerlink" href="#setting_up_the_project" title="Permanent link">&para;</a></h2>
<p>The purpose of the api is deliver content in such a way that it can be consumed by 1 or more applications. This is why an api should be setup in its own project.</p>
<p>For that reason we are now going to create a new project that consumes our api.</p>
<p>At the moment we have the following structure:</p>
<div class="codehilite"><pre><span></span>root
|--.vscode/
|--api/
|--sql/
|--global.json
|--.git/ # you may not see this folder, but it is there if you use git
|--.gitignore
</pre></div>

<p>For this project to work we are going to expand it to the following folder structure:</p>
<div class="codehilite"><pre><span></span>root
|--.vscode/
|--api/
|--web/
|--sql/
|--global.json
|--.git/ # you may not see this folder, but it is there if you use git
|--.gitignore
</pre></div>

<div class="admonition note">
<p class="admonition-title">Separating the project</p>
<p>This project is still maintained in a single repository. The main focus is still the api, the web component is a means to make sure people can see an implementation of it.</p>
</div>
<p>For this part you will need to be in the <code>webapi</code> folder, so you have to type in <code>cd ..</code> in the terminal. The prompt should now say <code>webapi</code>.</p>
<p>In the api folder we have the actual api, this was created using the <code>dotnet new webapi -o api</code> command.</p>
<p>For the web project we are going to use the following command:</p>
<div class="codehilite"><pre><span></span>dotnet new webapp -o web --no-https
</pre></div>

<p>We are able to use frameworks like react (these templates are offered by dotnet), but let's focus on interacting with the api.</p>
<p>Let's also make sure our api is running:</p>
<div class="codehilite"><pre><span></span>dotnet run -p api
</pre></div>

<p>Since our terminal is now taken up by the application, we need to open another one.
Just click the <code>+</code> symbol at the top of the terminal, if you are using the integrated terminal - this will create another terminal instance.</p>
<h2 id="changing_some_settings_in_the_web_project">Changing some settings in the web project<a class="headerlink" href="#changing_some_settings_in_the_web_project" title="Permanent link">&para;</a></h2>
<p>Next we need to change the port on which the web project runs, since the api takes up port 5000.</p>
<p>In the <strong>launchsettings.json</strong> file, change the port on line 21 from <code>5000</code> to <code>6000</code>.</p>
<p>If you didn't use the <code>--no-https</code> flag when creating the project, you will also need to change <code>5001</code> into <code>6001</code> for the https port.</p>
<p>Run the project by using <code>dotnet run</code> and you will see that you now have 2 dotnet services running.</p>
<p>You can now see your project on https://localhost:6001 or http://localhost:6000</p>
<h2 id="cleaning_up_the_project">Cleaning up the project<a class="headerlink" href="#cleaning_up_the_project" title="Permanent link">&para;</a></h2>
<p>The webapp template comes with a lot of boilerplate code that we don't need, so let's remove and change some files:</p>
<p>Remove the following files in the Pages folder:</p>
<div class="codehilite"><pre><span></span>About.cshtml
About.cshtml.cs
Contact.cshtml
Contact.cshtml.cs
Error.cshtml
Error.cshtml.cs
Privacy.cshtml
Privacy.cshtml.cs
</pre></div>

<details class="note"><summary>Index.cshtml file</summary><div class="codehilite"><pre><span></span>@page
@model IndexModel
@{
    ViewData[&quot;Title&quot;] = &quot;API Page&quot;;
    ViewData[&quot;ApiType&quot;] = &quot;Player Data&quot;;
}

&lt;h1&gt;@ViewData[&quot;Title&quot;]&lt;/h1&gt;

&lt;h2&gt;@ViewData[&quot;ApiType&quot;]&lt;/h2&gt;

&lt;div id=&quot;data&quot;&gt;
    &lt;ul&gt;

    &lt;/ul&gt;
&lt;/div&gt;
</pre></div>

</details>
<p>Change the Pages/Shared/_Layout.cshtml file into this:</p>
<details class="note"><summary>_Layout.cshtml file</summary><div class="codehilite"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;title&gt;@ViewData[&quot;Title&quot;] - web&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;~/lib/bootstrap/dist/css/bootstrap.css&quot; /&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;~/css/site.css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;nav class=&quot;navbar navbar-inverse navbar-fixed-top&quot;&gt;
        &lt;div class=&quot;container&quot;&gt;
            &lt;div class=&quot;navbar-header&quot;&gt;
                &lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.navbar-collapse&quot;&gt;
                    &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;
                    &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                    &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                    &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                &lt;/button&gt;
                &lt;a asp-page=&quot;/Index&quot; class=&quot;navbar-brand&quot;&gt;web&lt;/a&gt;
            &lt;/div&gt;
            &lt;div class=&quot;navbar-collapse collapse&quot;&gt;
                &lt;ul class=&quot;nav navbar-nav&quot;&gt;
                    &lt;li&gt;&lt;a asp-page=&quot;/Index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

    &lt;div class=&quot;container body-content&quot;&gt;
        @RenderBody()
        &lt;hr /&gt;
        &lt;footer&gt;
            &lt;p&gt;&amp;copy; 2019 - web&lt;/p&gt;
        &lt;/footer&gt;
    &lt;/div&gt;
    @RenderSection(&quot;Scripts&quot;, required: false)
&lt;/body&gt;
&lt;/html&gt;
</pre></div>

</details>
<p>You may notice a few odd symbols - we look at them later, so don't worry about them for now.</p>
<h2 id="project_setup">Project Setup<a class="headerlink" href="#project_setup" title="Permanent link">&para;</a></h2>
<p>In the <strong>wwwroot</strong> folder is all of our static and public accessible stuff like images, css and javascript files. We won't really touch them, but that is where they are if you need to find them.</p>
<p>In the <strong>Pages</strong> folder are all the dynamic files.
The <strong>.cshtml.cs</strong> files are the View - the things we see in the web browser.
the <strong>.cs</strong> file with the same name is the code-behind for that page.</p>
<p>These pages are reffered to as Razor pages. 
Razor pages still use the Model View Controller Setup, but it is a bit easier to manage them.</p>
<h2 id="first_api_call">First API Call<a class="headerlink" href="#first_api_call" title="Permanent link">&para;</a></h2>
<p>Let's get something from our API on the page.</p>
<p>To get something on the page we need to make an api call and that api call is going to return to us a JSON string.</p>
<p>So getting remote data onto our website from an api is done using Javascript - No C# involved here (but we will add some later on).</p>
<p>Add this simple fetch request to your <strong>Index.cshtml</strong> page inside a set script tags.</p>
<div class="codehilite"><pre><span></span><span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;https://localhost:5001/api/players&quot;</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="p">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="p">=&gt;</span> <span class="p">{</span>

    <span class="kd">let</span> <span class="nx">players</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">d</span> <span class="p">=&gt;</span> <span class="sb">`</span>
<span class="sb">        &lt;li&gt;</span><span class="si">${</span><span class="nx">d</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">&lt;/li&gt;</span>
<span class="sb">    `</span><span class="p">)</span>

    <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;#data &gt; ul&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">players</span>
<span class="p">})</span>
</pre></div>

<p>You will get a CORS (Cross-Origin Resource Sharing) error, since your api and web page are on a different URL.</p>
<p>Back in the API project, you will need to enable CORS and for now, we are just going allow it. You will need to tighten up the security when you are in the production stage of your code.</p>
<p>Allowing CORS is easy and it is all done in your <strong>Startup.cs</strong> file.</p>
<p>In the <code>public void Configure</code> method add the following middleware:</p>
<div class="codehilite"><pre><span></span>app.UseCors(options =&gt; options.AllowAnyOrigin());
</pre></div>

<p>and in the <code>public void ConfigureServices</code> method add the following:</p>
<div class="codehilite"><pre><span></span>services.AddCors(c =&gt;  
{  
    c.AddPolicy(&quot;AllowOrigin&quot;, options =&gt; options.AllowAnyOrigin());  
});  
</pre></div>

<p>Recompile your api application by pressing Ctrl+c and then <code>dotnet run</code> again.</p>
<p>Refresh your website at http://localhost:6000 (or https://localhost:6001) and you should be good to go and see the name you added when posted some data in the players method when testing the API.</p>
<h2 id="viewdata_dictionary">ViewData Dictionary<a class="headerlink" href="#viewdata_dictionary" title="Permanent link">&para;</a></h2>
<p>Right so back to the C# question and the Razor syntax.</p>
<p>In the model of a razor page (same file name, but with a cs extension) you will see a <code>Get()</code> method. Inside of this method you can add the <code>ViewData</code> dictionary and do some serverside coding so that you can pass the result onto the View.</p>
<p>At the top of the cshtml file you will see this piece of code:</p>
<div class="codehilite"><pre><span></span><span class="err">@</span><span class="p">{</span>
    <span class="n">ViewData</span><span class="p">[</span><span class="s">&quot;Title&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;API Page&quot;</span><span class="p">;</span>
    <span class="n">ViewData</span><span class="p">[</span><span class="s">&quot;ApiType&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Player Data&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<p>Inside of the Model of the page you can code any C# methods and place the value of them inside the ViewData Dictionary.</p>
<p>This can be useful if you want to set the title dynamically or other content.</p>
<p>The idea of clean coding is that you keep your content out of the HTML page, so this way you can keep that from happening.</p>
<h1 id="renders">@Renders<a class="headerlink" href="#renders" title="Permanent link">&para;</a></h1>
<p>Inside of a <strong>_Layout.cshtml</strong> file you will see the keyword @Render like:</p>
<ul>
<li><code>@RenderBody()</code></li>
<li><code>@RenderSection("Scripts", required: false)</code></li>
</ul>
<p>The _Layout.cshtml file is the main template for your website and each of the other <strong>.cshtml</strong> file is a section of the main page.</p>
<p>Any bit of code that is common between each page, is placed in the <strong>_Layout.cshtml</strong> page.
Where ever the <code>@RenderBody()</code> is placed, the view for the particular URL is placed.</p>
<h1 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h1>
<p>So now you have it - a complete web api that you can view through a website.</p>
<p>You write the websites backend in C# and you write the front end in whatever you feel like.</p>
<ul>
<li>if it is a webpage you just use JavaScript.</li>
<li>if it a mobile or desktop app, you use whatever the platform offers to parse JSON data.</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../04-testing-the-api/" title="Testing the api using VSCODE" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Testing the api using VSCODE
              </span>
            </div>
          </a>
        
        
          <a href="../../../../git/00_Installing_git/" title="Installing git" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Installing git
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 and maintained by <a href="https://twitter.com/jwknz">Jeff Kranenburg</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/jwknz" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://github.com/to-jk11" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.linkedin.com/in/jwknz" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://twitter.com/jwknz" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>